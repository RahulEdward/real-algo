import{a as i,j as e}from"./vendor-react-Bde5w1iN.js";import{L as a}from"./label-sTsobr-L.js";import{S as c,a as n,b as t,c as d,d as o}from"./select-DfeukBJp.js";import{s as j}from"./search-BXjqKZLA.js";const E=["NFO","BFO","MCX","CDS"];function V({exchange:l,underlying:r,expiry:p,onExchangeChange:u,onUnderlyingChange:m,onExpiryChange:f}){const[S,g]=i.useState([]),[v,y]=i.useState([]),[x,h]=i.useState(!1);return i.useEffect(()=>{l&&(h(!0),j.getUnderlyings(l).then(s=>{s.status==="success"&&g(s.underlyings||[])}).finally(()=>h(!1)))},[l]),i.useEffect(()=>{l&&r&&j.getExpiries(l,r).then(s=>{s.status==="success"&&y(s.expiries||[])})},[l,r]),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Exchange"}),e.jsxs(c,{value:l,onValueChange:u,children:[e.jsx(n,{children:e.jsx(t,{placeholder:"Select exchange"})}),e.jsx(d,{children:E.map(s=>e.jsx(o,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Underlying"}),e.jsxs(c,{value:r,onValueChange:m,disabled:x,children:[e.jsx(n,{children:e.jsx(t,{placeholder:x?"Loading...":"Select underlying"})}),e.jsx(d,{children:S.map(s=>e.jsx(o,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Expiry"}),e.jsxs(c,{value:p,onValueChange:f,children:[e.jsx(n,{children:e.jsx(t,{placeholder:"Select expiry"})}),e.jsx(d,{children:v.map(s=>e.jsx(o,{value:s,children:s},s))})]})]})]})}export{V as U};
